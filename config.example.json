{
  "matrix": {
    "server_hostname": "http://trix-server.local",
    "width": 64,
    "height": 32,
    "output_dir": "output"
  },

  "_comment_scheduler": "Two scheduler modes are available: simple_rotation and time_windowed_rotation",

  "scheduler": {
    "mode": "simple_rotation",
    "default_display_duration": 30,
    "provider_rotation": [
      {
        "name": "time",
        "duration": 10
      },
      {
        "name": "weather",
        "duration": 30
      },
      {
        "name": "bus_7734",
        "duration": 20
      },
      {
        "name": "s3_image",
        "duration": 15
      }
    ]
  },

  "_comment_time_windowed": "Example time-windowed rotation configuration (replace scheduler section above)",
  "_scheduler_time_windowed_example": {
    "mode": "time_windowed_rotation",
    "default_display_duration": 30,
    "timezone": "America/New_York",
    "rotations": [
      {
        "name": "morning",
        "time_window": {
          "start": "06:00",
          "end": "08:00"
        },
        "providers": [
          {"name": "time", "duration": 10},
          {"name": "weather", "duration": 20},
          {"name": "bus_7637", "duration": 15},
          {"name": "bus_8475", "duration": 15}
        ]
      },
      {
        "name": "blank_day",
        "time_window": {
          "start": "08:00",
          "end": "15:00"
        },
        "blank_screen": true
      },
      {
        "name": "afternoon",
        "time_window": {
          "start": "15:00",
          "end": "17:00"
        },
        "providers": [
          {"name": "bus_7637", "duration": 15},
          {"name": "bus_8475", "duration": 15},
          {"name": "weather", "duration": 10}
        ]
      },
      {
        "name": "evening",
        "time_window": {
          "start": "17:00",
          "end": "21:00"
        },
        "providers": [
          {"name": "time", "duration": 5},
          {"name": "weather", "duration": 15},
          {"name": "bus_7637", "duration": 10},
          {"name": "bus_8475", "duration": 10},
          {"name": "s3_image", "duration": 15}
        ]
      },
      {
        "name": "overnight",
        "time_window": {
          "start": "21:00",
          "end": "06:00"
        },
        "blank_screen": true
      }
    ],
    "fallback_rotation": {
      "providers": [
        {"name": "time", "duration": 30}
      ]
    }
  },

  "providers": {
    "weather": {
      "enabled": true,
      "mode": "lo_hi",
      "location": {
        "latitude": 40.0,
        "longitude": -80.0,
        "name": "Pittsburgh, PA"
      },
      "units": "fahrenheit",
      "forecast_interval_hours": 3,
      "cache_duration": 600
    },
    "time": {
      "enabled": true,
      "timezone": "America/New_York",
      "format_12h": true
    },
    "bus_7734": {
      "enabled": true,
      "stop_id": "7734",
      "priority_routes": ["67"],
      "gtfs_static_url": "https://www.rideprt.org/GTFS/google_transit.zip",
      "gtfs_realtime_url": "https://realtime.portauthority.org/bustime/gtfs-rt/tripupdates",
      "max_arrivals": 4,
      "window_minutes": 60,
      "cache_duration": 30,
      "gtfs_cache_days": 30
    },
    "bus_7637": {
      "enabled": true,
      "stop_id": "7637",
      "priority_routes": ["67", "69"],
      "gtfs_static_url": "https://www.rideprt.org/GTFS/google_transit.zip",
      "gtfs_realtime_url": "https://realtime.portauthority.org/bustime/gtfs-rt/tripupdates",
      "max_arrivals": 4,
      "window_minutes": 60,
      "cache_duration": 30,
      "gtfs_cache_days": 30
    },
    "bus_8475": {
      "enabled": true,
      "stop_id": "8475",
      "priority_routes": ["67", "69"],
      "gtfs_static_url": "https://www.rideprt.org/GTFS/google_transit.zip",
      "gtfs_realtime_url": "https://realtime.portauthority.org/bustime/gtfs-rt/tripupdates",
      "max_arrivals": 4,
      "window_minutes": 60,
      "cache_duration": 30,
      "gtfs_cache_days": 30
    },
    "s3_image": {
      "enabled": true,
      "s3_bucket": "my-led-matrix-images",
      "s3_prefix": "images/",
      "aws_region": "us-east-1",
      "_comment_credentials": "AWS credentials can be provided via environment variables (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY) or inline below",
      "aws_access_key_id": "",
      "aws_secret_access_key": ""
    }
   }
}
